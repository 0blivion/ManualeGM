<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
<title>Creare Modelli</title>
<link href="style.css" rel="stylesheet" type="text/css">
</head>
<body background="images/back.gif">

<!--START-->


<h3>Creare Modelli</h3>

Quando hai bisogno di disegnare dei modelli grandi è abbastanza costoso chiamare tutte le differenti
funzioni di disegno ancora e ancora ad ogni step. Per evitare questo puoi creare dei modelli.
Un modello consiste in un numero di disegni primitivi e di forme. Una volta creato il modello
puoi disegnarlo in posti differenti con una sola funzione. I modelli possono anche essere
caricati o salvati in un file.

<p>
Prima di fornire le differenti funzioni disponibili c'è un importante punto: la manipolazione
delle textures. Come descritto prima, le texture vengono prese da sprites e brackgrounds.
Gli indici delle texture possono essere differenti in differenti momenti. Quindi i modelli
non contengono nessuna informazione sulle texture. Solo quando disegni un modello fornisci
la texture. Quindi puoi usare solo una texture in un modello. Se hai bisogno di più textures
devi unirle in una sola (trattando attentamente con le coordinate della texture) o usare
più modelli. Il vantaggio è che puoi disegnare lo stesso modello con textures differenti.

<p>
Per creare, caricare, salvare, e disegnare modelli, esistono le seguenti funzioni:

<p>
<blockquote>
  <tt><b>d3d_model_create()</b></tt>
	  Crea un nuovo modello e restituisce il suo indice. L'indice verrà usato in tutte
	  le altre funzioni che trattano coi modelli.<br>
  <tt><b>d3d_model_destroy(ind)</b></tt>
	  Distrugge il modello con l'indice indicato, liberando la sua memoria.<br>
  <tt><b>d3d_model_clear(ind)</b></tt>
	  Ripulisce il modello con l'indice indicato, rimuovendo tutte le sue primitive.<br>
  <tt><b>d3d_model_save(ind,fname)</b></tt>
          Salva il modello nel file indicato.<br>
  <tt><b>d3d_model_load(ind,fname)</b></tt>
	  Carica il modello dal file indicato.<br>
  <tt><b>d3d_model_draw(ind,x,y,z,texid)</b></tt>
	  Disegna il modello alla posizione (x,y,z). <tt>texid</tt> è la texture che dev'essere
          usata. Usa -1 se non vuoi usare una texture. Se vuoi ruotare o ridimensionare il
          modello puoi usare le routines di trasformazione descritte prima.<br>
</blockquote>

<p>
For each primitive function there is an equivalent to add it to a model. The functions
have the same arguments as before except that each has a first argument the index of 
the model, and no texture information is provided.

<p>
<blockquote>
  <tt><b>d3d_model_primitive_begin(ind,kind)</b></tt>
	  Adds a 3D primitive to the model of the indicated kind: <tt>pr_pointlist, pr_linelist,
	  pr_linestrip,pr_trianglelist,pr_trianglestrip</tt> or <tt>pr_trianglefan</tt>.<br>
  <tt><b>d3d_model_vertex(ind,x,y,z)</b></tt>
	  Add vertex (x,y,z) to the model.<br>
  <tt><b>d3d_model_vertex_color(ind,x,y,z,col,alpha)</b></tt>
	  Add vertex (x,y,z) to the model, with its own color and alpha value.<br>
  <tt><b>d3d_model_vertex_texture(ind,x,y,z,xtex,ytex)</b></tt>
	  Add vertex (x,y,z) to the model with position (xtex,ytex) in the texture.<br>
  <tt><b>d3d_model_vertex_texture_color(ind,x,y,z,xtex,ytex,col,alpha)</b></tt>
	  Add vertex (x,y,z) to the model with texture and color values.<br>
  <tt><b>d3d_model_vertex_normal(ind,x,y,z,nx,ny,nz)</b></tt>
	  Add vertex (x,y,z) to the model, with normal vector (nx,ny,nz).<br>
  <tt><b>d3d_model_vertex_normal_color(ind,x,y,z,nx,ny,nz,col,alpha)</b></tt>
	  Add vertex (x,y,z) to the model, with normal vector (nx,ny,nz), 
	  and with its own color and alpha value.<br>
  <tt><b>d3d_model_vertex_normal_texture(ind,x,y,z,nx,ny,nz,xtex,ytex)</b></tt>
	  Add vertex (x,y,z) to the model, with normal vector (nx,ny,nz),
	  with texture position.<br>
  <tt><b>d3d_model_vertex_normal_texture_color(ind,x,y,z,nx,ny,nz,xtex,ytex,col,alpha)</b></tt>
	  Add vertex (x,y,z) to the model, with normal vector (nx,ny,nz), with texture
	  and color values.<br>
  <tt><b>d3d_model_primitive_end(ind)</b></tt>
	  End the description of the primitive in the model.<br>
</blockquote>

<p>
Besides primitives you can also add basic shapes to the models. Again the functions look almost
the same but with a model index and without texture information:

<p>
<blockquote>
  <tt><b>d3d_model_block(ind,x1,y1,z1,x2,y2,z2,hrepeat,vrepeat)</b></tt>
	  Adds a block shape to the model. <br>
  <tt><b>d3d_model_cylinder(ind,x1,y1,z1,x2,y2,z2,hrepeat,vrepeat,closed,steps)</b></tt>
	  Adds a cylinder shape to the model. <br>
  <tt><b>d3d_model_cone(ind,x1,y1,z1,x2,y2,z2,hrepeat,vrepeat,closed,steps)</b></tt>
	  Adds a cone shape to the model. <br>
  <tt><b>d3d_model_ellipsoid(ind,x1,y1,z1,x2,y2,z2,hrepeat,vrepeat,steps)</b></tt>
	  Adds a ellipsoid shape to the model. <br>
  <tt><b>d3d_model_wall(ind,x1,y1,z1,x2,y2,z2,hrepeat,vrepeat)</b></tt>
	  Adds a wall shape to the model. <br>
  <tt><b>d3d_model_floor(ind,x1,y1,z1,x2,y2,z2,hrepeat,vrepeat)</b></tt>
	  Adds a floor shape to the model. <br>
</blockquote>

<p>
Using models can considerable speed up the graphics in your 3D games and you should use
them whenever you can.

<!--END-->

</body>
</html>

<!-- KEYWORDS
3d models
models

d3d_model_create()
d3d_model_destroy()
d3d_model_clear()
d3d_model_save()
d3d_model_load()
d3d_model_draw()
d3d_model_primitive_begin()
d3d_model_vertex()
d3d_model_vertex_color()
d3d_model_vertex_texture()
d3d_model_vertex_texture_color()
d3d_model_vertex_normal()
d3d_model_vertex_normal_color()
d3d_model_vertex_normal_texture()
d3d_model_vertex_normal_texture_color()
d3d_model_primitive_end()
d3d_model_block()
d3d_model_cylinder()
d3d_model_cone()
d3d_model_ellipsoid()
d3d_model_wall()
d3d_model_floor()
-->
